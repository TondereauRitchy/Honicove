<!-- Loader fragment (à inclure au début du body) -->
<link href="https://fonts.googleapis.com/css2?family=Rancho&display=swap" rel="stylesheet">
<style>
  /* Styles du loader, encapsulés pour éviter les effets de bord */
  .honi-loader2__lock-scroll { overflow: hidden !important; }
  .honi-loader2__wrapper {
    position: fixed;
    inset: 0;
    background-color: #fdf7f2;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 9999;
  }
  .honi-preloader2 {
    display: flex;
    gap: 8px;
    font-size: 80px;
    color: #7A0B1A;
    font-family: "Rancho", cursive;
  }
  .honi-preloader2 span {
    display: inline-block;
    opacity: 0;
    transform: translateY(100px);
    animation: honiRiseUp 0.8s ease-out forwards;
  }
  @keyframes honiRiseUp {
    0% { opacity: 0; transform: translateY(100px); }
    100% { opacity: 1; transform: translateY(0); }
  }
  .honi-preloader2 span:nth-child(1) { color: #7A0B1A; animation-delay: 0.1s; }
  .honi-preloader2 span:nth-child(2) { color: #7A0B1A; animation-delay: 0.15s; }
  .honi-preloader2 span:nth-child(3) { color: #7A0B1A; animation-delay: 0.4s; }
  .honi-preloader2 span:nth-child(4) { color: #7A0B1A; animation-delay: 0.55s; }
  .honi-preloader2 span:nth-child(5) { color: #7A0B1A; animation-delay: 0.7s; }
  .honi-preloader2 span:nth-child(6) { color: #7A0B1A; animation-delay: 0.85s; }
  .honi-preloader2 span:nth-child(7) { color: #7A0B1A; animation-delay: 1s; }
  .honi-preloader2 span:nth-child(8) { color: #7A0B1A; animation-delay: 1.15s; }
  .honi-loader2__fade-out { opacity: 0; transition: opacity 1s ease; pointer-events: none; }
</style>
<div id="honi-loader2" class="honi-loader2__wrapper">
  <div class="honi-preloader2" aria-live="polite" aria-label="Chargement Honicove">
    <span>H</span><span>o</span><span>n</span><span>i</span><span>c</span><span>o</span><span>v</span><span>e</span>
  </div>
</div>
<script>
  (function(){
    // Verrouille le scroll pendant le chargement
    document.documentElement.classList.add('honi-loader2__lock-scroll');
    document.body && document.body.classList.add('honi-loader2__lock-scroll');

    function revealContent(){
      var loader = document.getElementById('honi-loader2');
      if(!loader) return;
      loader.classList.add('honi-loader2__fade-out');
      setTimeout(function(){
        loader.style.display = 'none';
        document.documentElement.classList.remove('honi-loader2__lock-scroll');
        document.body && document.body.classList.remove('honi-loader2__lock-scroll');
        var main = document.getElementById('main-content');
        if(main){ main.style.display = 'block'; }
      }, 1000);
    }

    // Dévoile après 2.5s ou quand le DOM est prêt, le plus tardif des deux
    var minDelayPassed = false;
    setTimeout(function(){ minDelayPassed = true; if(document.readyState === 'complete' || document.readyState === 'interactive'){ revealContent(); } }, 2500);
    if(document.readyState === 'loading'){
      document.addEventListener('DOMContentLoaded', function(){ if(minDelayPassed) revealContent(); });
    } else {
      if(minDelayPassed) revealContent();
    }
  })();
</script>
